<?xml version="1.0"?>
<launch>
  <arg name="bag_file" default="/home/sbclab/Log files/2023-04-02-17-13-26.bag"/>
  

  <!-- Static transform publisher -->
  <node name="static_transform_publisher" pkg="tf2_ros" type="static_transform_publisher" args="0 0 0 0 0 0 1 odom laser" />

  <node pkg="tf2_ros" type="static_transform_publisher" name="frame_to_odom" args="0 0 0 1.57 0 0 frame odom" />


  <!-- Dynamic transform node -->
  <node pkg="navstack_pub" type="tf_test.py" name="dynamic_steering_transform" output="screen" />

  <!--node pkg="tf2_ros" type="static_transform_publisher" name="steering_to_frame" args="0.035 -0.100 0.82 0 0 0 1 frame steering" /-->

  <node pkg="tf2_ros" type="static_transform_publisher" name="wheel1_to_frame" args="0.930 -0.075 0.305 0 0 0 1 frame wheel1" />

  <node pkg="tf2_ros" type="static_transform_publisher" name="wheel2_to_steering" args="-0.15 0 -0.505 0 0 0 1 steering wheel2" />


  <!-- Launch RViz -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find husky_viz)/rviz/robot.rviz" output="screen"/>

  <!-- Play bag file -->
  <node name="rosbag" pkg="rosbag" type="play" args="'$(arg bag_file)'" output="screen">
    <param name="clock" value="use_sim_time" />
    <remap from="scan" to="/front/scan"/>
  </node>
</launch>

